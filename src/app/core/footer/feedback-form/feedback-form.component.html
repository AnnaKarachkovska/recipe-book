<form [formGroup]="feedbackForm"
      (ngSubmit)="submit()"
      *transloco="let translate; read: 'footer.form'">

  <h2 class="form-title">{{ translate('title') }}</h2>

  <mat-dialog-content class="form-container">

    <mat-form-field class="form-field">

      <mat-label>{{ translate('email') }}</mat-label>

      <input matInput
             [type]="'text'"
             [formControlName]="'email'" />

      <mat-error *ngIf="feedbackForm.controls.email.touched &&
                        feedbackForm.controls.email.errors?.required">
        {{ translate('emailRequired') }}
      </mat-error>

      <mat-error *ngIf="feedbackForm.controls.email.touched &&
                        feedbackForm.controls.email.errors?.email">
        {{ translate('emailInvalid') }}
      </mat-error>

    </mat-form-field>

    <mat-form-field>

      <mat-label>{{ translate('comment') }}</mat-label>

      <textarea matInput
                [type]="'text'"
                [rows]="6"
                [formControlName]="'comment'"></textarea>

      <mat-error *ngIf="feedbackForm.controls.comment.touched &&
                        feedbackForm.controls.comment.errors?.required">
        {{ translate('commentRequired') }}
      </mat-error>

    </mat-form-field>
  </mat-dialog-content>

  <mat-dialog-actions [align]="'end'" class="dialog-actions">
    <button mat-raised-button
            mat-dialog-close
            [matTooltip]="translate('cancelTooltip')"
            [type]="'button'">
      {{ translate('cancel') }}
    </button>

    <button mat-raised-button
            [mat-dialog-close]="true"
            [matTooltip]="translate('cancelTooltip')"
            [type]="'submit'"
            color="primary"
            [disabled]="!feedbackForm.valid">
      {{ translate('sent') }}
    </button>
  </mat-dialog-actions>
</form>
